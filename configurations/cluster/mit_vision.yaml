defaults:
  - base_slurm

params:
  env_name: gvs
  account: vision-sitzmann
  partition: vision-sitzmann
  qos: vision-sitzmann-main
  num_gpus: a100:8
  memory: 512G
  num_cpus: 128
  time: "6:0:0"

launch_template: |
  #!/bin/bash

  #SBATCH -J {name}
  #SBATCH -o {log_dir}/out_%j.out
  #SBATCH -e {log_dir}/error_%j.err
  #SBATCH --mail-user={email}
  #SBATCH --mail-type=FAIL
  #SBATCH --gres=gpu:{num_gpus}
  #SBATCH --cpus-per-task={num_cpus}
  #SBATCH --mem={memory}
  #SBATCH --time={time}
  #SBATCH --account={account}
  #SBATCH --partition={partition}
  #SBATCH --qos={qos}
  #SBATCH --exclude=aia-h200-1,aia-h200-8,aia-h200-10,aia-h200-11,aia-h200-12,aia-h200-13

  source /data/scene-rep/u/ndsong/.bashrc
  conda activate {env_name}

  cd {project_root}
  python -m main {python_args}
